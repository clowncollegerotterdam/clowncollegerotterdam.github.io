!function(e){function t(t,f){var l,s,a;if(0==(l=e(t))[n])return r;if(s=l[i]()[o],"middle"===f.anchor)a=s-(e(window).height()-l.outerHeight())/2;else a=Math.max(s,0);return"function"==typeof f[i]?a-=f[i]():a-=f[i],a}var n="length",r=null,o="top",i="offset",f="click.scrolly";e(window);e.fn.scrolly=function(i){var l,s,a,c,h=e(this);if(0==this[n])return h;if(this[n]>1){for(l=0;l<this[n];l++)e(this[l]).scrolly(i);return h}if(c=r,"#"!=(a=h.attr("href")).charAt(0)||a[n]<2)return h;(s=jQuery.extend({anchor:o,easing:"swing",offset:0,parent:e("body,html"),pollOnce:!1,speed:1e3},i)).pollOnce&&(c=t(a,s)),h.off(f).on(f,function(e){var n=c!==r?c:t(a,s);n!==r&&(e.preventDefault(),s.parent.stop().animate({scrollTop:n},s.speed,s.easing))})}}(jQuery);